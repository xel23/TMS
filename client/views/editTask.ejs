<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/plain" href="/stylesheets/style.css">

    <title>Task list</title>
</head>
<body>
<%- include('navbar') %>
<div class="container">
    <h2 class="mb-3" style="padding: 15px 15px 0 0">Edit Task</h2>
    <div>
        <form method="post" action="/editTask/<%= task[0].id %>">
            <% if (errors) { %>
                <% for (var n = 0; n < errors.length; n++) {%>
                    <div class="alert alert-danger">
                        <%= errors[n].msg %>
                    </div>
                <% } %>
            <% } %>
            <div class="form-group w-100">
                <label>Summary</label>
                <input name="summary" type="text" class="form-control w-100" placeholder="Enter summary" value="<%= task[0].summary %>">
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea name="description" class="form-control" placeholder="Enter description"><%= task[0].description %></textarea>
            </div>
            <div class="form-group">
                <label>Assignee</label>
                <input name="username" type="text" class="form-control" placeholder="Enter username" value="<%= task[0].assignee %>">
            </div>
            <div class="form-group">
                <label>Type</label>
                <select name="type" class="custom-select">
                    <option value="1" <%= task[0].type === 1 ? 'selected' : '' %>>Bug</option>
                    <option value="2" <%= task[0].type === 2 ? 'selected' : '' %>>Task</option>
                    <option value="3" <%= task[0].type === 3 ? 'selected' : '' %>>Feature</option>
                </select>
            </div>
            <div class="form-group">
                <label>Priority</label>
                <select name="priority" class="custom-select">
                    <option value="1" <%= task[0].priority === 1 ? 'selected' : '' %>>Minor</option>
                    <option value="2" <%= task[0].priority === 2 ? 'selected' : '' %>>Normal</option>
                    <option value="3" <%= task[0].priority === 3 ? 'selected' : '' %>>Major</option>
                    <option value="4" <%= task[0].priority === 4 ? 'selected' : '' %>>Critical</option>
                </select>
            </div>
            <button name="submit" value="Register" type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
</div>
</body>
</html>
